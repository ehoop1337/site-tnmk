/**
* @midkard/formvalidate v1.3.9
*/
!function(e){var t={};function i(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,l){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(l,n,function(t){return e[t]}.bind(null,n));return l},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t){e.exports=jQuery},function(e,t,i){"use strict";i.r(t);var l=i(0),n=i.n(l);var s,a={rules:[{el:".required",rule:"required"},{el:".inp, .valid_phone",rule:"valid_phone"},{el:'[name="name1"], .valid_name',rule:"alpha|min_length[2]"},{el:'[name="email1"], [name="email"], .valid_email',rule:"valid_email"},{el:".agreement",rule:"agreement"}],ruleRegex:/^(.+?)\[(.+)\]$/,numericRegex:/^[0-9]+$/,emailRegex:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,alphaRegex:/^[а-яё ]*$/i,phoneRegex:/^\+7\(\d{3}\) \d{3}-\d{2}-\d{2}$/,messages:{required:"Пожалуйста, заполните поле.",valid_email:"Введите корректный email.",valid_phone:"Введите корректный номер телефона.",alpha:"Это поле может содержать только буквы русского алфавита.",min_length:"Поле должно содержать не менее %s символов."},popupRender:'<div id="modal-not-agreement">                    <div class="icon">                            <svg viewBox="0 0 22 22"><path d="M.35.35,21.82,21.82"/><path d="M21.82.35.35,21.82"/></svg>                    </div>                    <h2>Внимание!</h2>                    <p>Вы не согласились с нашей <a href="{privacy}" >политикой конфиденциальности</a>. По Закону, мы не имеем права получать ваши контакты.</p>                    <div class="button">                            <button class="confirm btn"><span>Согласиться с политикой</span></button>                    </div>            </div>',overlayRender:'<div id="modal-not-agreement__overlay"></div>',hideLabels:!0,validateOnBlur:!0,privacy:"/privacy-policy/"},r=function(e){this.popup=n()(e.popupRender.replace("{privacy}",e.privacy)).appendTo("body"),this.overlay=n()(e.overlayRender).appendTo("body"),this.checkbox=null;var t=this;this.popup.find(".confirm").click((function(){t.checkbox.prop("checked",!0),t.checkbox.change(),t.hide()}))};n.a.extend(r.prototype,{show:function(e){this.checkbox=e,this.overlay.fadeIn(),this.popup.fadeIn()},hide:function(){this.overlay.fadeOut(),this.popup.fadeOut()}});var o=function(e,t,i){this.elem=e,this.rules=t,this.validator=i,this.opts=i.opts,this.value=null,this.oldValue="",this.rules&&(this.erElem=null,this.tipElem=null,this.required=-1!==t.indexOf("required")),this.$placeholder=null,n()(this.elem).siblings("label").length&&(this.$placeholder=n()(this.elem).siblings("label"));var l=!0;Object.defineProperty(this,"valid",{get:function(){return l},set:function(e){e!==l&&(l=e,this.validator._checkButtons())}}),this._validate(!0);var s=this;this.rules&&(e.on("change completed",(function(){s._validate()})),this.opts.validateOnBlur&&e.on("blur",(function(){s._validate()})),e.on("input keypress keydown paste",(function(){s._validate(!0)}))),t&&~t.indexOf("alpha")&&(e.on("input",(function(){s._testInput()})),e.on("focusout",(function(){s._tip(!0)}))),t&&~t.indexOf("valid_phone")&&e.on("input",(function(){s._transformToPhone()})),this.$placeholder&&(s._placeholder(),e.on("focusin input",(function(){s._placeholder("remove")})),e.on("focusout",(function(){s._placeholder("enable")})))};n.a.extend(o.prototype,{_validate:function(e){if(e=e||!1,!this.rules)return!0;if("stopvalidation"===this.elem.attr("data-validation"))return this.valid=!0,this.value=null,this._removeError(),!0;if(this.value!==this.elem.val()||!e){var t,i,l=this.rules.split("|"),n=!this.elem.val(),s=[];for(this.value=this.elem.val(),t=0,i=l.length;t<i;t++){var a=l[t],r=null,o=!1,h=this.opts.ruleRegex.exec(a);if(n&&!this.required)break;if((!n||-1!==["required","agreement"].indexOf(a))&&(h&&(a=h[1],r=h[2]),"!"===a.charAt(0)&&(a=a.substring(1,a.length)),"function"==typeof this._hooks[a]&&(this._hooks[a].apply(this,[r])||(o=!0)),o)){var u=this.elem.data(a);u||(u=this.opts.messages[a]),r&&(u=u.replace("%s",r)),s.push(u)}}return s.length?(e||this._setError(s),this.valid=!1,this.elem.attr("data-validation","invalid")):(this._removeError(),this.valid=!0,this.elem.attr("data-validation","valid")),this.valid}},_testInput:function(){this.value=this.elem.val(),this._hooks.alpha.apply(this)?(this.oldValue=this.value,this._tip(!0)):(this.elem.val(this.oldValue),this._tip())},_tip:function(e){e=e||!1;var t=this.opts.messages.alpha;e?this.tipElem&&(this.tipElem.remove(),this.tipElem=null):this.tipElem||(this.tipElem=n()('<span class="message-tooltip">'+t+"</span>").insertAfter(this.elem))},_transformToPhone:function(){var e=this.elem.val();if(e)if((e=e.replace(/\D/g,"")).length){"7"!==e[0]&&"8"!==e[0]||(e=e.slice(1));var t="+7(",i=[e.slice(0,3),e.slice(3,6),e.slice(6,8),e.slice(8,10)];(i=i.filter((function(e){return""!==e}))).forEach((function(e,i){1===i&&(t+=") "),i>1&&(t+="-"),t+=e})),this.elem.val(t),this._validate(!0)}else this.elem.val("")},_placeholder:function(e){var t=!this.elem.val();e=e||"enable",this.opts.hideLabels&&("enable"===e?t&&this.$placeholder.removeClass("label-none"):this.$placeholder.addClass("label-none"))},_setError:function(e){this.erElem?this.erElem.html(e.join(" ")):-1===this.rules.indexOf("agreement")&&(this.erElem=n()('<span class="message-error">'+e.join(" ")+"</span>").insertAfter(this.elem)),this.elem.addClass("error"),this.elem.removeClass("correctly")},_removeError:function(){this.erElem&&(this.erElem.remove(),this.erElem=null,this.elem.addClass("correctly"),this.elem.removeClass("error"))},_hooks:{required:function(){var e=this.elem[0].type;return"checkbox"===e||"radio"===e?!0===this.elem[0].checked:!!this.value},valid_email:function(){return this.opts.emailRegex.test(this.value)},valid_phone:function(){return this.opts.phoneRegex.test(this.value)},min_length:function(e){return!!this.opts.numericRegex.test(e)&&this.value.length>=parseInt(e,10)},alpha:function(){return this.opts.alphaRegex.test(this.value)},agreement:function(){var e,t=this.elem[0].type;if("checkbox"===t||"radio"===t){var i=!0===this.elem[0].checked;return i||(e=this.opts,s||(s=new r(e)),s).show(this.elem),i}return!!this.value}}});var h=o,u=function(e,t){this.form=e,this.allRules=t.rules,this.opts=t,this.buttons=[],this.fields=[];for(var i=0;i<e.elements.length;i++)if("submit"!==e.elements[i].type){var l=n()(e.elements[i]),s=this._genElemRules(l);s.length?this.fields.push(new h(l,s.join("|"),this)):this.fields.push(new h(l,null,this))}else this.buttons.push(e.elements[i]);this._checkButtons(),n()(e).submit(n.a.proxy(this,"_validateForm"))};n.a.extend(u.prototype,{_genElemRules:function(e){for(var t={},i=[],l=0;l<this.allRules.length;l++)e.is(this.allRules[l].el)&&(t[this.allRules[l].rule]=!0);for(var n in t)i.push(n);return i},_validateForm:function(e){for(var t=!1,i=0;i<this.fields.length;i++){this.fields[i]._validate()||(t=!0)}return t&&(e&&e.preventDefault?e.preventDefault():event&&(event.returnValue=!1)),!0},_checkButtons:function(){for(var e=!1,t=0;t<this.fields.length;t++){this.fields[t].valid||(e=!0)}if(e)for(t=0;t<this.buttons.length;t++)this.buttons[t].classList.add("disabled");else for(t=0;t<this.buttons.length;t++)this.buttons[t].classList.remove("disabled")}});var c=u;!function(){if(n()("label.agreement-label .check").click((function(e){e.preventDefault();var t=n()(this).siblings("input"),i=!t.prop("checked");t.prop("checked",i),t.change()})),n.a.fancybox){var e=n.a.fancybox.defaults.clickContent;n.a.fancybox.defaults.clickContent=function(t,i){t.$content[0].contains(document.activeElement)&&document.activeElement.blur(),e(t,i)}}}(),n.a.fn.validate=function(e){if(this.length)return e=n.a.extend(!0,{},a,e),this.each((function(){var t=n()(this).data("validator");t||(n()(this).find("span.add-textarea").click((function(){n()(this).toggleClass("opened")})),t=new c(this,e),n()(this).data("validator",t))})),this}}]);